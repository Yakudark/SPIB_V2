// Fichier centralisé des traductions
const translations = {
    fr: {
        dashboard: 'Tableau de bord',
    employees: 'Employés',
    interviews: 'Entretiens',
    services: 'Services',
    logout: 'Déconnexion',
    nom: 'Nom',
    prenom: 'Prénom',
    username: "Matricule",
    actions: "Actions",
    upcomingInterviews: 'Entretiens à venir',
    requiredActions: 'Actions requises',
    statistics: 'Statistiques',
    manageEmployees: 'Gestion des Employés',
    addEmployee: 'Ajouter un employé',
    filters: 'Filtres',
    service: 'Service',
    pool: 'Pool',
    role: 'Rôle',
    availableActions: 'Actions disponibles',
    interview: 'Entretien',
    interviewDesc: 'Entretien formel avec l\'employé',
    call: 'Appel bienveillant',
    callDesc: 'Prise de nouvelles et soutien',
    welcomeBack: 'Welcome Back',
    welcomeBackDesc: 'Entretien de retour',
    toSchedule: 'À réaliser',
    inProgress: 'En cours',
    completed: 'Terminé',
    manageServices: 'Gestion des Services',
    addService: 'Ajouter un service',
    details: 'Détails',
    interviewBtn: 'Entretien',
    edit: 'Modifier',
    delete: 'Supprimer',
    employeesCard: 'Employés',
    interviewsCard: 'Entretiens',
    agir: 'Agir',
    notAssigned: 'Non assigné',
    welcome: "Bienvenue sur STIB",
    login: "Connexion",
    connect: "Connectez-vous à votre espace",
    password: "Mot de passe",
    submit: "Se connecter",
    users: "Utilisateurs",
    addUser: "Ajouter un utilisateur",
    gestUtilisateur: "Gestion des Utilisateurs",
    employeeManager: "Employee Manager",
    manager: "Manager",
    actionsToPlan: "Actions à planifier",
    pending: "En attente",
    interviewsToday: "Entretiens aujourd'hui",
    planInterview: "Planifier Entretien",
    prochEntretien: "Prochain Entretien",
    tousDroits: "2025 STIB. Tous droits réservés.",
    entermatric: "Entrez votre matricule",
    enterpassword: "Entrez votre mot de passe",
    pagination_de: "Affichage de",
    pagination_a: "à",
    pagination_sur: "sur",
    pagination_utilisateurs: "utilisateurs",
    actionaPlanifier: "Actions à planifier",
    nouvelleAction: "Nouvelle action",
    ajouterAbsence: "Ajouter absence",
    agentsSuivis: "Agents suivis",
    today: "Entretiens aujourd'hui",
    upcomingInterviewsTitle: "Prochains Entretiens",
    interviewHistory: "Historique des Entretiens",
    filterByAgent: "Filtrer par agent",
    allAgents: "Tous les agents",
    date: "Date",
    agent: "Agent",
    type: "Type",
    with: "Avec",
    comment: "Commentaire",
    noUpcomingInterviews: "Aucun entretien à venir",
    followUpActions: "Actions à suivre",
    allEmployees: "Tous les salariés",
    actionType: "Type d'action",
    status: "Statut",
    absenceTracking: "Suivi des absences",
    startDate: "Date de début",
    endDate: "Date de fin",
    numberOfDays: "Nombre de jours",
    absencePeriods: "Périodes d'absence",
    periodsOver: "périodes sur 12 mois",
    agentSuivi: "Agents suivis"
    },
    nl: {
    dashboard: 'Dashboard',
    employees: 'Werknemers',
    interviews: 'Gesprekken',
    services: 'Diensten',
    logout: 'Afmelden',
    nom: 'Naam',
    prenom: 'Voornaam',
    username: "Personeelsnummer",
    actions: "Acties",
    upcomingInterviews: 'Komende gesprekken',
    requiredActions: 'Vereiste acties',
    statistics: 'Statistieken',
    manageEmployees: 'Beheer van werknemers',
    addEmployee: 'Werknemer toevoegen',
    filters: 'Filters',
    service: 'Dienst',
    pool: 'Pool',
    role: 'Rol',
    availableActions: 'Beschikbare acties',
    interview: 'Gesprek',
    interviewDesc: 'Formeel gesprek met de werknemer',
    call: 'Welzijnsoproep',
    callDesc: 'Contact opnemen en ondersteuning',
    welcomeBack: 'Welcome Back',
    welcomeBackDesc: 'Terugkomgesprek',
    toSchedule: 'Uit te voeren',
    inProgress: 'Bezig',
    completed: 'Voltooid',
    manageServices: 'Beheer van diensten',
    addService: 'Dienst toevoegen',
    details: 'Details',
    interviewBtn: 'Gesprek',
    edit: 'Bewerken',
    delete: 'Verwijderen',
    employeesCard: 'Werknemers',
    interviewsCard: 'Gesprekken',
    agir: 'Actie',
    notAssigned: 'Niet toegewezen',
    welcome: "Welkom op STIB",
    login: "Aanmelden",
    connect: "Log in op uw ruimte",
    password: "Wachtwoord",
    submit: "Inloggen",
    users: "Gebruikers",
    addUser: "Gebruiker toevoegen",
    gestUtilisateur: "Gebruikersbeheer",
    employeeManager: "Employee Manager",
    manager: "Manager",
    actionsToPlan: "Acties om te plannen",
    pending: "In afwachting",
    interviewsToday: "Gesprekken vandaag",
    planInterview: "Gesprek plannen",
    prochEntretien: "Volgende gesprek",
    tousDroits: "2025 STIB. Alle rechten voorbehouden.",
    entermatric: "Voer uw personeelsnummer in",
    enterpassword: "Voer uw wachtwoord in",
    pagination_de: "Weergave van",
    pagination_a: "tot",
    pagination_sur: "van",
    pagination_utilisateurs: "gebruikers",
    actionaPlanifier: "Acties om te plannen",
    nouvelleAction: "Nieuwe actie",
    ajouterAbsence: "Afwezigheid toevoegen",
    agentsSuivis: "Opgevolgde agenten",
    today: "Gesprekken vandaag",
    upcomingInterviewsTitle: "Volgende gesprekken",
    interviewHistory: "Gespreksgeschiedenis",
    filterByAgent: "Filter op agent",
    allAgents: "Alle agenten",
    date: "Datum",
    agent: "Agent",
    type: "Type",
    with: "Met",
    comment: "Opmerking",
    noUpcomingInterviews: "Geen geplande gesprekken",
    followUpActions: "Op te volgen acties",
    allEmployees: "Alle werknemers",
    actionType: "Actietype",
    status: "Status",
    absenceTracking: "Afwezigheidsopvolging",
    startDate: "Startdatum",
    endDate: "Einddatum",
    numberOfDays: "Aantal dagen",
    absencePeriods: "Afwezigheidsperiodes",
    periodsOver: "periodes 12 maanden",
    agentSuivi:"Opgevolgde agenten"
    }
};
let currentLang = 'fr';

// --- Rétablissement du code de gestion du switch langue simple ---
// À placer dans chaque page ou à inclure dans un bloc <script> de la page
function setupLangSwitcher(btnId, flagFn) {
    document.addEventListener('DOMContentLoaded', function() {
        const btn = document.getElementById(btnId);
        if (btn) {
            btn.addEventListener('click', function() {
                currentLang = currentLang === 'fr' ? 'nl' : 'fr';
                updateAllTexts();
                if (typeof flagFn === 'function') flagFn();
            });
            updateAllTexts();
            if (typeof flagFn === 'function') flagFn();
        }
    });
}
// --- Fin rétablissement ---

function updateAllTexts() {
    const t = translations[currentLang];
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                if (el.hasAttribute('placeholder')) el.placeholder = t[key];
                if (el.hasAttribute('value') && el.type !== 'password') el.value = t[key];
            } else if (el.hasAttribute('data-i18n-attr')) {
                const attr = el.getAttribute('data-i18n-attr');
                el.setAttribute(attr, t[key]);
            } else {
                el.textContent = t[key];
            }
        }
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (t[key]) el.placeholder = t[key];
    });
}

function updateTextsLogin() {
    const t = translations[currentLang];
    if(document.getElementById('welcomeTitle')) document.getElementById('welcomeTitle').textContent = t.welcome;
    if(document.getElementById('connectText')) document.getElementById('connectText').textContent = t.connect;
    if(document.getElementById('loginBtn')) document.getElementById('loginBtn').textContent = t.submit;
    if(document.getElementById('langSwitchBtnLogin')) document.getElementById('langSwitchBtnLogin').textContent = currentLang === 'fr' ? 'NL' : 'FR';
}
function updateTextsAdmin() {
    const t = translations[currentLang];
    if(document.getElementById('usersNav')) document.getElementById('usersNav').textContent = t.users;
    if(document.getElementById('addUserBtn')) document.getElementById('addUserBtn').textContent = t.addUser;
    if(document.getElementById('logoutBtnAdmin')) document.getElementById('logoutBtnAdmin').textContent = t.logout;
    if(document.getElementById('langSwitchBtnAdmin')) document.getElementById('langSwitchBtnAdmin').textContent = currentLang === 'fr' ? 'NL' : 'FR';
    // Ajoutez ici d'autres éléments à traduire pour le dashboard admin
}
